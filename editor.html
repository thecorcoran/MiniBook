<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor - Mini-Book Maker</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .active-page {
            outline: 2px solid #007bff;
            outline-offset: -2px;
        }
        @media print {
            @page {
                margin: 0;
                size: letter; /* Ensure standard paper size */
            }
            body {
                margin: 0;
                padding: 0;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
                print-color-adjust: exact;
                print-color-adjust: exact;
                print-color-adjust: exact;
            }
            body > *:not(.editor-main) { display: none; }
            .editor-main { width: 100%; margin: 0; padding: 0; }
            .toolbar { display: none; }
            #canvas-container { width: 100%; height: 100%; padding: 0; margin: 0; }
            #canvas {
                width: 8.5in; /* Standard Letter width */
                height: 11in; /* Standard Letter height */
                margin: 0; /* Remove any default margins */
                border: none; /* Remove border for print */
                box-sizing: border-box; /* Include padding and border in the element's total width and height */
                position: relative;
                overflow: hidden;
            }
            .page-grid {
                width: 100%;
                height: 100%;
                grid-template-columns: repeat(4, 1fr);
                grid-template-rows: repeat(2, 1fr);
                gap: 0;
                border: none;
            }
            .page-grid.four-page {
                grid-template-columns: repeat(2, 1fr);
                grid-template-rows: repeat(2, 1fr);
            }
            .page-cell {
                border: 1px solid black; /* Ensure borders are visible on print */
                font-size: 12pt; /* Adjust font size for print */
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                position: relative; /* For positioning content within the cell */
            }
            .page-number {
                position: absolute;
                bottom: 5px;
                right: 5px;
                font-size: 12pt;
                font-weight: bold;
                color: #000; /* Ensure visibility on print */
            }
            .text-box, .draggable-image {
                position: absolute !important;
                transform: scale(1) !important; /* Ensure no scaling issues */
                -webkit-print-color-adjust: exact;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo"><a href="index.html" style="color: #333;">Mini-Book Maker</a></div>
            <ul>
                <li><a href="templates.html">Templates</a></li>
                <li><a href="#">Login</a></li>
            </ul>
        </nav>
    </header>

    <main class="editor-main">
        <div class="toolbar">
            <button id="add-text-button">Add Text</button>
            <button id="add-image-button">Add Image</button>
            <button id="print-button" class="print-button">Print</button>
        </div>
        <div id="canvas-container">
            <div id="canvas"></div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Mini-Book Maker. All rights reserved.</p>
    </footer>

    <input type="file" id="image-upload-input" accept="image/*" style="display: none;">
    <script src="editor.js"></script>
</body>
</html>
